<!DOCTYPE html>
<html lang="cs">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <meta name="description" content="Oficiální stránky PHP komunity">
        <meta name="keywords" content="PHP, komunita, programování">
        <meta name="author" content="http://pehapkari.cz">
        <meta name="robots" content="index, follow">

        <meta property="og:image" content="/images/php-square.png">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to add HTTPS to GitHub Pages in 6 Steps">
    <meta property="og:description" content="I always loved GitHub Pages, thanks to open-source and free hosting. Last thing that made me feel too oldschool was the plain &quot;http://&quot; protocol. That is usually the main argument why people move from GitHub Pages elsewhere, i.e. their own VPS. What a pity.

Fortunately, thanks for Michal Špaček&#039;s ability to explain complex stuff in a simple way, we solved this over a single weekend.">
    <meta property="og:url" content="https://pehapkari.cz/blog/2017/03/13/how-to-add-https-to-github-pages-in-6-steps/">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How to add HTTPS to GitHub Pages in 6 Steps">
    <meta name="twitter:description" content="I always loved GitHub Pages, thanks to open-source and free hosting. Last thing that made me feel too oldschool was the plain &quot;http://&quot; protocol. That is usually the main argument why people move from GitHub Pages elsewhere, i.e. their own VPS. What a pity.

Fortunately, thanks for Michal Špaček&#039;s ability to explain complex stuff in a simple way, we solved this over a single weekend.">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="alternate" type="application/rss+xml" title="Péhápkaři.cz Blog RSS" href="/rss.xml">

        <link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

        <link href="/assets/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css">

    <link href="/assets/prism/prism.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/style.css" rel="stylesheet" type="text/css">

        <link href="/favicon.ico" rel="shortcut icon">

        <title>How to add HTTPS to GitHub Pages in 6 Steps</title>
    </head>

    <body>
<header>
    <div class="container">
        <div class="hidden-xs">
            <a href="/"><img src="/assets/images/logo-header.svg?ver" alt="" height="50"></a>

            <nav class="top-navigation">
                <a href="/blog/" class="active">
                    <em class="fa fa-newspaper-o fa-fw"></em>
                    Blog
                </a>
                <a href="/mentori/">
                    <em class="fa fa-handshake-o fa-fw"></em>
                    Mentoři
                </a>
                <a href="/slovnicek/">
                    <em class="fa fa-language fa-fw"></em>
                    Slovníček
                </a>
                <a href="/knihovnicka/">
                    <em class="fa fa-book fa-fw"></em>
                    Knížky
                </a>

                    

                    <a href="https://github.com/pehapkari/pehapkari.cz/edit/master/source/_posts/2017/2017-03-13-how-to-add-https-to-github-pages-in-6-steps.md" class="hidden-sm">
                        <em class="fa fa-fw fa-pencil"></em>
                        Edit
                    </a>
            </nav>
        </div>

        <div id="mobile-menu" class="row text-center hidden-md hidden-sm hidden-lg">
            <a href="/" class="col-xs-3">
                <em class="fa fa-home"></em>
                <br>
                Home
            </a>
            <a href="/blog/" class="col-xs-3 active">
                <em class="fa fa-book fa-fw"></em>
                <br>
                Blog
            </a>
            <a href="/mentori/" class="col-xs-3">
                <em class="fa fa-handshake-o fa-fw"></em>
                <br>
                Mentoři
            </a>
            <a href="/knihovnicka/" class="col-xs-3">
                <em class="fa fa-language fa-fw"></em>
                <br>
                Knížky
            </a>
        </div>
    </div>
</header>

    <div id="article">
        <div class="container">
            <h1 class="h2 text-center">How to add HTTPS to GitHub Pages in 6 Steps</h1>

            <div class="row text-center">
                <div class="col-md-12">
<div class="metadataLine">

    <p>
        <em class="fa fa-clock-o fa-fw"></em>
        3 min

        |

        by
        <strong>Tomáš Votruba</strong>

        &ndash;

        <time datetime="2017-03-Mon">
            13. 3. 2017
        </time>

        |

        <em class="fa fa-fw fa-comments"></em>
        <a href="https://pehapkari.cz/blog/2017/03/13/how-to-add-https-to-github-pages-in-6-steps/#disqus_thread">X</a>
        comments
    </p>
</div>
                    <div id="reviewed_by">
                        <p>Reviewed by:
                                Michal Moravec, 
                                Michal Špaček
                        </p>
                    </div>
                </div>
            </div>

            <br>

            <div id="article-content">
                <p class="perex">I always loved GitHub Pages, thanks to open-source and free hosting. Last thing that made me feel too oldschool was the plain "http://" protocol. That is usually the main argument why people move from GitHub Pages elsewhere, i.e. their own VPS. What a pity.
<br>
Fortunately, thanks for Michal Špaček's ability to explain complex stuff in a simple way, we solved this over a single weekend.</p>

                

<p>This site now runs on HTTPS, see: <a href="https://pehapkari.cz"><a href="https://pehapkari.cz/">https://pehapkari.cz/</a></a> thanks to <a href="https://www.michalspacek.com">Michal Špaček</a> who added <a href="https://github.com/pehapkari/pehapkari.cz/issues/162#issuecomment-272590505">a simple how-to manual</a> to the GitHub issue. I will try to expand it here.</p>
<h3 id="https-is-strike-hard-strike-easy"><a class="anchor" href="#https-is-strike-hard-strike-easy" aria-hidden="true"><span class="anchor-icon">#</span></a>HTTPS is <strike>Hard</strike> Easy!</h3>
<p>I thought setting up HTTPS is a very difficult process that requires at least owning a VPS, extensive work via SSH and buying, paying and setting up the certificate. This is practically impossible to do with just GitHub Pages.</p>
<p>But is it really?</p>
<h2 id="how-to-enable-https-in-3-steps"><a class="anchor" href="#how-to-enable-https-in-3-steps" aria-hidden="true"><span class="anchor-icon">#</span></a>How to Enable HTTPS in 3 Steps</h2>
<h3 id="1-a-href-https-www-cloudflare-com-a-sign-up-register-on-cloudflare-a"><a class="anchor" href="#1-a-href-https-www-cloudflare-com-a-sign-up-register-on-cloudflare-a" aria-hidden="true"><span class="anchor-icon">#</span></a>1. <a href="https://www.cloudflare.com/a/sign-up">Register on Cloudflare</a></h3>
<h3 id="2-a-href-https-www-cloudflare-com-a-add-site-add-your-site-a"><a class="anchor" href="#2-a-href-https-www-cloudflare-com-a-add-site-add-your-site-a" aria-hidden="true"><span class="anchor-icon">#</span></a>2. <a href="https://www.cloudflare.com/a/add-site">Add Your Site</a></h3>
<p>Cloudflare will pre-fill the DNS records by scanning your current records. Continue.</p>
<p>Pick free plan.</p>
<h3 id="3-change-name-servers"><a class="anchor" href="#3-change-name-servers" aria-hidden="true"><span class="anchor-icon">#</span></a>3. Change Name Servers</h3>
<p>Go to your domain administration (look for &quot;change DNS servers&quot; or similar) and change current name servers to those provided by Cloudflare. You can either create a new NSSET or change the current one, if your registry supports NSSETs.</p>
<img src="/assets/images/posts/2017/https/change-nameservers.png">
<p>Keep in mind that <strong>the servers may be different for each domain you add to Cloudflare</strong>.</p>
<h2 id="what-will-happen-now"><a class="anchor" href="#what-will-happen-now" aria-hidden="true"><span class="anchor-icon">#</span></a>What will happen now?</h2>
<p>The site will be served via Cloudflare once the browsers notice the change, that is when the DNS changes are propagated world-wide. That could take some time, from minutes to even days, depending on the expiration of these records in the DNS. Don't worry though, there's no downtime, the site should be accessible either via Cloudflare or not, the change we made doesn'ẗ affect the origin servers – GitHub's in this case – those are still up and running.</p>
<p><strong>The changes could be verified in the browser or using the command-line interface</strong>. Look for the <code>Server</code> response header, it should contain <code>cloudflare-nginx</code>.</p>
<pre><code class="language-bash">curl -I http://pehapkari.cz | grep Server
Server: cloudflare-nginx</code></pre>
<p>Now try <a href="https://pehapkari.cz">https://pehapkari.cz</a>, if there's no error, we have HTTPS enabled!</p>
<p>Note that it can <a href="https://support.cloudflare.com/hc/en-us/articles/203045244-How-long-does-it-take-for-CloudFlare-s-SSL-to-activate-">take up to 24 hours</a> for HTTPS to enable.</p>
<p><strong>Not quite there yet</strong></p>
<p>Now we have a website running over HTTPS. But it is also accessible without HTTPS, through <a href="http://pehapkari.cz">http://pehapkari.cz</a>, so we need to redirect all HTTP requests to the HTTPS ones. This is especially important due to security, but also to avoid duplicate content (that would hurt SEO).</p>
<h2 id="how-to-redirect-quot-http-quot-urls-to-quot-https-quot-in-3-steps"><a class="anchor" href="#how-to-redirect-quot-http-quot-urls-to-quot-https-quot-in-3-steps" aria-hidden="true"><span class="anchor-icon">#</span></a>How to Redirect &quot;HTTP&quot; urls to &quot;HTTPS&quot; in 3 Steps</h2>
<h3 id="1-a-href-https-www-cloudflare-com-a-page-rules-go-to-page-rules-a"><a class="anchor" href="#1-a-href-https-www-cloudflare-com-a-page-rules-go-to-page-rules-a" aria-hidden="true"><span class="anchor-icon">#</span></a>1. <a href="https://www.cloudflare.com/a/page-rules/">Go to Page Rules</a></h3>
<h3 id="2-add-new-rule"><a class="anchor" href="#2-add-new-rule" aria-hidden="true"><span class="anchor-icon">#</span></a>2. Add New Rule</h3>
<img src="/assets/images/posts/2017/https/page-rule-https-create.png">
<p>This will redirect both</p>
<ul>
<li><a href="http://pehapkari.cz">http://pehapkari.cz</a> and</li>
<li><a href="http://www.pehapkari.cz">http://www.pehapkari.cz</a></li>
</ul>
<p>to their <code>https://</code> versions.</p>
<img src="/assets/images/posts/2017/https/page-rule-https-list.png">
<h3 id="3-verify-it-works"><a class="anchor" href="#3-verify-it-works" aria-hidden="true"><span class="anchor-icon">#</span></a>3. Verify it Works</h3>
<p>Now run this diagnostics using your command-line interface:</p>
<pre><code class="language-bash">curl -I http://pehapkari.cz | grep -i Location
curl -I http://www.pehapkari.cz | grep -i Location
curl -I https://www.pehapkari.cz | grep -i Location</code></pre>
<p>These commands should show:</p>
<pre><code class="language-bash">Location: https://pehapkari.cz/
Location: https://www.pehapkari.cz/
Location: https://pehapkari.cz/</code></pre>
<p>If they do, you're done! If not, <strong>leave us a comment below</strong> and we'll try to help you and also improve this tutorial.</p>
<p>If you ever get to <strong>any security troubles</strong>, <strong>call <a href="https://www.michalspacek.com">Michal</a></strong> to the rescue. Thank you!</p>
<img src="/assets/images/posts/2017/https/thank-you.png">
            </div>
        </div>

        <div class="intermezzo-smaller">
            <div class="container">
                <h2>What do you think about this?</h2>
            </div>
        </div>

        <div class="container">
<div id="disqus_thread"></div>

<script type="text/javascript">
    var disqus_config = function () {
        this.language = "en"
    };

    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//' + "pehapkari" + '.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
        </div>

        <br>
    </div>

    <script src="/assets/prism/prism.js"></script>
    <script id="dsq-count-scr" src="https://pehapkari.disqus.com/count.js" async defer></script>

<script>
    ga=function(){ ga.q.push(arguments) };
    ga.q=[];
    ga.l=+new Date;
    ga('create', "UA-89860072-1", 'auto');
    ga('send','pageview');
</script>
<script async defer src="https://www.google-analytics.com/analytics.js"></script>
<script>
    !function(f,b,e,v,n,t,s){ if(f.fbq)return;n=f.fbq=function(){ n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
            document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', "201338863559186");
    fbq('track', 'PageView');
</script>
    </body>
</html>
